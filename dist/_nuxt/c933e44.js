(window.webpackJsonp=window.webpackJsonp||[]).push([[6,5],{1089:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var o=r(207);var n=r(301),c=r(151);function l(t){return function(t){if(Array.isArray(t))return Object(o.a)(t)}(t)||Object(n.a)(t)||Object(c.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1094:function(t,e,r){"use strict";r.r(e);r(48);var o={props:{details:{type:[Array],required:!0}}},n=r(37),component=Object(n.a)(o,(function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"details"}},[e("div",{staticClass:"image mb-2 mr-4"},[e("img",{attrs:{src:t.$config.imgBaseUrl+t.details[0].image,alt:"",srcset:""}})]),t._v(" "),e("div",{staticClass:"content"},[e("h1",{staticClass:"mb-0"},[t._v(t._s(t.details[0].no))]),t._v(" "),e("h2",[t._v(t._s(t.details[0].name))]),t._v(" "),e("div",{staticClass:"d-flex"},[e("div",{staticClass:"bottle mr-4"},[e("b",[t._v("Bottle")]),t._v(" "),e("br"),t._v("Kshs "+t._s(t.details[0].cost.bottle)),e("br")]),t._v(" "),e("div",{staticClass:"case"},[e("b",[t._v("Case")]),t._v(" "),e("br"),t._v("Kshs "+t._s(t.details[0].cost.case)),e("br")])]),t._v(" "),e("p",{staticClass:"mt-4"},[t._v(t._s(t.details[0].details))])])])}),[],!1,null,null,null);e.default=component.exports},1095:function(t,e,r){"use strict";r.r(e);r(48);var o=r(1089),n=(r(27),r(1088),r(1090),r(77),{name:"Cart",props:{cart:{type:[Array],required:!0}},data:function(){return{dataSource:this.cart,columns:[{title:"",dataIndex:"items.image",width:"1%",scopedSlots:{customRender:"image"}},{title:"Product",dataIndex:"items",scopedSlots:{customRender:"product"}},{title:"Cost",dataIndex:"total",width:"20%",scopedSlots:{customRender:"total"}},{title:"",dataIndex:"operation",width:"1%",scopedSlots:{customRender:"operation"}}]}},computed:{totalInCart:function(){return this.dataSource.reduce((function(t,e){return t+Number(e.total)}),0)}},methods:{onCellChange:function(t,e,r){var n=Object(o.a)(this.dataSource),c=n.find((function(e,r){return r===t}));c&&(c[e]=r,this.dataSource=n)},onDelete:function(t){var e=Object(o.a)(this.dataSource);this.dataSource=e.filter((function(e,r){return r!==t}))}}}),c=r(37),component=Object(c.a)(n,(function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"cart"}},[e("a-table",{attrs:{bordered:"","data-source":t.dataSource,columns:t.columns,pagination:!1},scopedSlots:t._u([{key:"product",fn:function(r,o,n){return[e("strong",[t._v(t._s(r.name))]),t._v(" "),0!==o.sub_total.bottle?e("div",{staticClass:"d-flex"},[e("div",{staticClass:"w-75"},[t._v("\n          "+t._s(n+1)+". "+t._s(o.items.name)+" (Bottle)\n          "),e("strong",[t._v(t._s(o.items.qtyBottle)+" x\n            "+t._s(Math.round(o.items.cost.bottle)))])])]):0!==o.sub_total.case?e("div",{staticClass:"d-flex"},[e("div",{staticClass:"w-75"},[t._v("\n          "+t._s(n+1)+". "+t._s(o.items.name)+" (Case)\n          "),e("strong",[t._v(t._s(o.items.qtyCase)+" x\n            "+t._s(Math.round(o.items.cost.case)))])])]):t._e()]}},{key:"image",fn:function(image){return[e("img",{attrs:{src:t.$config.imgBaseUrl+image,alt:""}})]}},{key:"operation",fn:function(text,r,o){return[t.dataSource.length?e("a-popconfirm",{attrs:{title:"Sure to delete?"},on:{confirm:function(){return t.onDelete(o)}}},[e("a",{attrs:{href:"javascript:;"}},[t._v("x")])]):t._e()]}}])}),t._v(" "),e("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"Kshs "+t.totalInCart}})],1)}),[],!1,null,null,null);e.default=component.exports},1096:function(t,e,r){"use strict";r.r(e);r(48);var o=r(1089),n=(r(27),r(1088),r(1090),{props:{cart:{type:[Array],required:!0}},data:function(){return{formData:{full_names:"",estate:"",phone_no:"",address:"",paymentMethod:!0},dataSource:this.cart,columns:[{title:"Total",dataIndex:"total",width:"30%",scopedSlots:{customRender:"total"}},{title:"Product",dataIndex:"items",scopedSlots:{customRender:"product"}}],rules:{full_names:{required:!0,message:"Please input your full names."},estate:{required:!0,message:"Please input your Estate."},phone_no:{required:!0,message:"Please input your phone number."},address:{required:!0,message:"Please input your full address."}}}},computed:{totalInCart:function(){return this.dataSource.reduce((function(t,e){return t+Number(e.total)}),0)}},methods:{onCellChange:function(t,e,r){var n=Object(o.a)(this.dataSource),c=n.find((function(e,r){return r===t}));c&&(c[e]=r,this.dataSource=n)}}}),c=r(37),component=Object(c.a)(n,(function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"cart"}},[e("a-form-model",{ref:"formData",attrs:{layout:"inline",model:t.formData,rules:t.rules}},[e("h4",[e("strong",[t._v("Your Billing Details")])]),t._v(" "),e("a-form-model-item",{attrs:{"has-feedback":""}},[e("a-input",{attrs:{placeholder:"Full names"},model:{value:t.formData.full_names,callback:function(e){t.$set(t.formData,"full_names",e)},expression:"formData.full_names"}},[e("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),t._v(" "),e("a-form-model-item",{attrs:{"has-feedback":""}},[e("a-input",{attrs:{type:"text",placeholder:"Estate"},model:{value:t.formData.estate,callback:function(e){t.$set(t.formData,"estate",e)},expression:"formData.estate"}},[e("a-icon",{attrs:{slot:"prefix",type:"flag"},slot:"prefix"})],1)],1),t._v(" "),e("a-form-model-item",{attrs:{"has-feedback":""}},[e("a-input",{attrs:{type:"number",min:"1"},model:{value:t.formData.phone_no,callback:function(e){t.$set(t.formData,"phone_no",e)},expression:"formData.phone_no"}},[e("a-icon",{staticStyle:{color:"rgba(0, 0, 0, 0.25)"},attrs:{slot:"prefix",type:"number"},slot:"prefix"})],1)],1),t._v(" "),e("a-form-model-item",{attrs:{"has-feedback":""}},[e("a-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}},[e("a-icon",{staticStyle:{color:"rgba(0, 0, 0, 0.25)"},attrs:{slot:"prefix",type:"file"},slot:"prefix"})],1)],1),t._v(" "),e("h4",{staticClass:"mt-2"},[e("strong",[t._v("Your Order")])]),t._v(" "),e("a-table",{attrs:{bordered:"","data-source":t.dataSource,columns:t.columns,pagination:!1},scopedSlots:t._u([{key:"product",fn:function(r,o,n){return[e("strong",[t._v(t._s(r.name))]),t._v(" "),0!==o.sub_total.bottle?e("div",{staticClass:"d-flex"},[e("div",{staticClass:"w-75"},[t._v("\n            "+t._s(n+1)+". "+t._s(o.items.name)+" (Bottle)\n            "),e("strong",[t._v(t._s(o.items.qtyBottle)+" x\n              "+t._s(Math.round(o.items.cost.bottle)))])])]):0!==o.sub_total.case?e("div",{staticClass:"d-flex"},[e("div",{staticClass:"w-75"},[t._v("\n            "+t._s(n+1)+". "+t._s(o.items.name)+" (Case)\n            "),e("strong",[t._v(t._s(o.items.qtyCase)+" x\n              "+t._s(Math.round(o.items.cost.case)))])])]):t._e()]}},{key:"image",fn:function(image){return[e("img",{attrs:{src:t.$config.imgBaseUrl+image,alt:""}})]}}])}),t._v(" "),e("div",{staticClass:"placeholder"},[e("h3",[t._v("Kshs "+t._s(t.totalInCart))]),t._v(" "),e("hr"),t._v(" "),e("h4",{staticClass:"mb-1"},[e("strong",[t._v("Select your payment method")])]),t._v(" "),e("a-checkbox",{model:{value:t.formData.paymentMethod,callback:function(e){t.$set(t.formData,"paymentMethod",e)},expression:"formData.paymentMethod"}},[t._v("\n        Direct bank transfer\n      ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},1119:function(t,e,r){"use strict";r.r(e);r(50),r(300),r(78),r(48);var o=r(1089),n=r(22),c=(r(77),r(27),r(94),r(115),r(1097),r(1099),r(59),r(1100),r(58),r(1104),r(1106),r(1107),r(1108),r(1109),r(1110),r(1112),r(1113),r(1114),r(1115),r(1116),r(1117),r(1118),r(95),r(1088),r(206),r(116),r(93),{name:"Shop",asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.store.state.products.products.length){e.next=3;break}return e.next=3,t.store.dispatch("products/fetchProducts");case 3:case"end":return e.stop()}}),e)})))()},data:function(){return{checked1:"",search:"",products:this.$store.state.products.products,selectedProds:[],selectedTags:[],details:[],cart:[],visible:!1,loading:!1,modalType:""}},computed:{getProducts:function(){var t=this.$store.state.products.products;if(""!==this.search){var e=this.search.toLowerCase().slice(1);return t.filter((function(t,r){return t.name.toLowerCase().includes(e)||t.no.toLowerCase().includes(e)||t.details.toLowerCase().includes(e)}))}return t},getProductsTags:function(){for(var t=[],e=this.$store.state.products.products,r=0;r<e.length;r++)t.push(e[r].tags);var n=t.flat();return Object(o.a)(new Map(n.map((function(t){return[t,t]}))).values())},total:function(){return this.cart.reduce((function(t,e){return t+Number(e.total)}),0)}},watch:{getProducts:function(){this.products=this.getProducts},onSelectTags:function(){},cart:function(){},addQtyBootleToProducts:function(){},addToCart:function(){}},methods:{onSelectTags:function(t,e){var r=this,n=this.selectedTags,c=e?[].concat(Object(o.a)(n),[t]):n.filter((function(e){return e!==t}));this.selectedTags=c;var l=this.$store.state.products.products;0!==this.selectedTags.length?this.products=l.filter((function(t,e){return r.selectedTags.some((function(e){return t.tags.includes(e)}))})):this.products=this.$store.state.products.products},detailsModal:function(t,e){this.visible=!0,this.modalType=e;var r=this.$store.state.products.products;this.details=r.filter((function(e){return e.no.includes(t)}))},cartModal:function(t){this.visible=!0,this.modalType=t},checkoutModal:function(t){var e=this;this.visible=!1,setTimeout((function(){e.visible=!0,e.modalType=t}),500)},placeHolder:function(){var t=this;try{this.$notification.success({message:"Order",description:"Your order has been placed successfully!",duration:4}),setTimeout((function(){t.visible=!1,t.cart=[]}),1500)}catch(t){}},addToCart:function(t){for(var e=this,r=this.$store.state.products.products,o=function(o){if(r[o].no===t)if(r[o].qtyBottle||r[o].qtyCase){var n=Math.round(r[o].qtyBottle*r[o].cost.bottle)||0,c=Math.round(r[o].qtyCase*r[o].cost.case)||0;e.cart.push({items:r[o],sub_total:{bottle:n,case:c},total:n+c}),e.$message.loading("Adding "+r[o].name+" to cart...",2.5).then((function(){return e.$message.success("Successfully added "+r[o].name+" to cart.",2.5)}))}else e.$notification.error({message:"Add to Cart",description:"Kindly select Quantity (QTY) for "+r[o].name,duration:8})},n=0;n<r.length;n++)o(n)},addQtyBootleToProducts:function(t,e,r){for(var o=this.products,n=0;n<o.length;n++)o[n].no===e&&("bottle"===r?o[n].qtyBottle=t:"case"===r&&(o[n].qtyCase=t))},showAll:function(){this.products=this.$store.state.products.products,this.selectedTags=[],this.search=""},handleCancel:function(){this.visible=!1,this.modalType=""}}}),l=r(37),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("a-layout-content",[e("a-row",[e("a-col",{attrs:{xs:{span:24,offset:0},sm:{span:24,offset:0},md:{span:24,offset:0},lg:{span:22,offset:1},xl:{span:18,offset:3}}},[e("a-row",{staticClass:"mb-4"},[e("a-col",{attrs:{xs:24,sm:24,md:24,lg:6,xl:6}},[e("a-input-search",{staticStyle:{"padding-right":"15px"},attrs:{placeholder:"Search...","enter-button":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),e("a-tabs",{staticClass:"mt-2"},[e("a-tab-pane",{key:"1"},[e("span",{attrs:{slot:"tab"},slot:"tab"},[e("a-icon",{attrs:{type:"filter"}}),t._v("\n                Show me\n              ")],1),t._v(" "),e("div",[t._l(t.getProductsTags,(function(r){return[e("a-checkable-tag",{key:r,attrs:{checked:t.selectedTags.indexOf(r)>-1},on:{change:function(e){return t.onSelectTags(r,e)}}},[t._v("\n                    "+t._s(r)+"\n                  ")])]}))],2)]),t._v(" "),e("a-button",{attrs:{slot:"tabBarExtraContent",type:"link"},on:{click:t.showAll},slot:"tabBarExtraContent"},[t._v("\n              Show all\n            ")])],1)],1),t._v(" "),e("a-col",{attrs:{xs:24,sm:24,md:24,lg:18,xl:18}},[e("a-card",{staticClass:"cart-summary-box"},[e("div",{staticClass:"d-flex align-items-center"},[0!==t.cart.length?e("ul",{staticClass:"list-unstyled w-50 mb-0 pl-2"},t._l(t.cart.slice().reverse(),(function(r,o){return e("li",{key:o},[0!==r.sub_total.bottle?e("div",{staticClass:"d-flex"},[e("div",{staticClass:"w-75"},[t._v("\n                      "+t._s(o+1)+". "+t._s(r.items.name)+" (Bottle)\n                      "),e("strong",[t._v(t._s(r.items.qtyBottle)+" x\n                        "+t._s(Math.round(r.items.cost.bottle)))])]),t._v(" "),e("div",{staticClass:"text-right w-25 mr-2"},[t._v("\n                      Kshs "+t._s(r.sub_total.bottle)+"\n                    ")])]):0!==r.sub_total.case?e("div",{staticClass:"d-flex"},[e("div",{staticClass:"w-75"},[t._v("\n                      "+t._s(o+1)+". "+t._s(r.items.name)+" (Case)\n                      "),e("strong",[t._v(t._s(r.items.qtyCase)+" x\n                        "+t._s(Math.round(r.items.cost.case)))])]),t._v(" "),e("div",{staticClass:"text-right w-25 mr-2"},[t._v("\n                      Kshs "+t._s(r.sub_total.case)+"\n                    ")])]):t._e()])})),0):e("ul",{staticClass:"list-unstyled w-50 mb-0 pl-2 alert"},[e("li",[e("a-alert",{attrs:{message:"Empty cart",banner:"",type:"info"}})],1)]),t._v(" "),e("div",{staticClass:"w-25 total"},[t._v("TOTAL Kshs "+t._s(t.total))]),t._v(" "),e("div",{staticClass:"w-25"},[e("a-button",{staticClass:"border-radius-0",on:{click:function(e){return t.cartModal("cart")}}},[t._v("CART")]),t._v(" "),e("a-button",{staticClass:"border-radius-0",attrs:{type:"primary"},on:{click:function(e){return t.checkoutModal("checkout")}}},[t._v("\n                  CHECKOUT\n                ")])],1)])])],1)],1),t._v(" "),0!==t.products.length?e("span",t._l(Math.ceil(t.products.length/3),(function(i){return e("a-row",{key:i},t._l(t.products.slice(3*(i-1),3*i),(function(r,o){return e("a-col",{key:o,attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[e("a-card",{staticClass:"products-box"},[e("div",{staticClass:"image"},[e("img",{attrs:{src:t.$config.imgBaseUrl+r.image,alt:"",srcset:""}})]),t._v(" "),e("div",{staticClass:"content"},[e("h1",{staticClass:"mb-0"},[t._v(t._s(r.no))]),t._v(" "),e("h2",[t._v(t._s(r.name))]),t._v(" "),e("div",{staticClass:"d-flex mt-4"},[e("div",{staticClass:"bottle"},[e("b",[t._v("Bottle")]),t._v(" "),e("br"),t._v("Kshs "+t._s(r.cost.bottle)),e("br"),t._v(" "),e("a-input-number",{staticClass:"mr-1",attrs:{size:"small",min:0,max:100,"default-value":0},on:{change:function(e){return t.addQtyBootleToProducts(e,r.no,"bottle")}}}),t._v("QTY\n                  ")],1),t._v(" "),e("div",{staticClass:"case"},[e("b",[t._v("Case")]),t._v(" "),e("br"),t._v("Kshs "+t._s(r.cost.case)),e("br"),t._v(" "),e("a-input-number",{staticClass:"mr-1",attrs:{size:"small",min:0,max:100,"default-value":0},on:{change:function(e){return t.addQtyBootleToProducts(e,r.no,"case")}}}),t._v("QTY\n                  ")],1)]),t._v(" "),e("a-button-group",{staticClass:"mt-3"},[e("a-button",{staticClass:"border-radius-0",on:{click:function(e){return t.detailsModal(r.no,"details")}}},[t._v("Details")]),t._v(" "),e("a-button",{staticClass:"border-radius-0",attrs:{type:"primary"},on:{click:function(e){return t.addToCart(r.no)}}},[t._v("\n                    Add to Cart\n                  ")])],1)],1)])],1)})),1)})),1):e("span",[e("a-empty")],1)],1)],1),t._v(" "),e("a-modal",{attrs:{title:"cart"==t.modalType?"Cart":"checkout"==t.modalType?"Checkout":"",visible:t.visible,"confirm-loading":t.loading,centered:"",closable:!1,"mask-closable":!1,"on-ok":"handleOk",footer:"",width:"cart"==t.modalType?900:600}},["details"==t.modalType?e("Details",{attrs:{details:t.details}}):t._e(),t._v(" "),"cart"==t.modalType?e("Cart",{attrs:{cart:t.cart}}):t._e(),t._v(" "),"checkout"==t.modalType?e("Checkout",{attrs:{cart:t.cart}}):t._e(),t._v(" "),e("div",{staticClass:"ant-modal-footer"},[e("a-button",{key:"close",attrs:{disabled:!!t.loading},on:{click:t.handleCancel}},[t._v("\n        Cancel\n      ")]),t._v(" "),"qty"==t.modalType?e("a-button",{key:"qty",attrs:{type:"primary",disabled:!!t.loading}},[t._v("\n        Submit\n      ")]):t._e(),t._v(" "),"cart"==t.modalType?e("a-button",{key:"cart",attrs:{type:"primary",disabled:0===t.cart.length},on:{click:function(e){return t.checkoutModal("checkout")}}},[t._v("\n        Checkout\n      ")]):t._e(),t._v(" "),"checkout"==t.modalType?e("a-button",{key:"checkout",attrs:{"html-type":"submit",type:"primary",disabled:0===t.cart.length},on:{click:function(e){return t.placeHolder()}}},[t._v("\n        Place Order\n      ")]):t._e()],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Details:r(1094).default,Cart:r(1095).default,Checkout:r(1096).default})}}]);